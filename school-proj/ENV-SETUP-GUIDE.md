# ๐ง ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ setup-env.sh

ุงู ุงุณฺฉุฑูพุช ุจุฑุง ุณุงุฎุช ูุงูโูุง `.env` ุฏุฑ ุฏู ุญุงูุช **ููฺฉุงู** ู **ุณุฑูุฑ** ุทุฑุงุญ ุดุฏู ุงุณุช.

## ๐ ูุญูู ุงุณุชูุงุฏู

### ๐ ุญุงูุช ููฺฉุงู (ูพุดโูุฑุถ)
```bash
bash setup-env.sh 0
```
ุง ุจู ุตูุฑุช ุณุงุฏู:
```bash
bash setup-env.sh
```

### ๐ ุญุงูุช ุณุฑูุฑ
```bash
bash setup-env.sh 1
```

---

## โ๏ธ ุชูุธูุงุช ูุฑ ุญุงูุช

### ๐ ุญุงูุช ููฺฉุงู (0)

**ุงุทูุงุนุงุช ุฏุชุงุจุณ:**
- ูุงุณุช: `localhost`
- ูพูุฑุช: `3306`
- ุฏุชุงุจุณ: `school`
- ฺฉุงุฑุจุฑ: `crm_user`
- ุฑูุฒ ุนุจูุฑ: `1234`
- URL: `mysql://crm_user:1234@localhost:3306/school`

**ุขุฏุฑุณโูุง API:**
- Next.js API: `http://localhost:3001/api`
- Python API: `http://localhost:5000`
- Nest.js: `http://localhost:3001`
- Redis: `localhost:6379`

**ูุญุท:**
- `NODE_ENV=development`

---

### ๐ ุญุงูุช ุณุฑูุฑ (1)

**ุงุทูุงุนุงุช ุฏุชุงุจุณ:**
- ูุงุณุช: `mysql` (Docker service)
- ูพูุฑุช: `3306`
- ุฏุชุงุจุณ: `mydatabase`
- ฺฉุงุฑุจุฑ: `user`
- ุฑูุฒ ุนุจูุฑ: `userpassword`
- URL: `mysql://user:userpassword@mysql:3306/mydatabase`

**ุขุฏุฑุณโูุง API:**
- Next.js API: `https://sch.ahmadreza-avandi.ir/api`
- Python API: `https://sch.ahmadreza-avandi.ir/python-api`
- Nest.js: `http://nestjs:3001` (Docker internal)
- Python: `http://pythonserver:5000` (Docker internal)
- Redis: `redis:6379` (Docker service)

**ูุญุท:**
- `NODE_ENV=production`

---

## ๐ ูุงูโูุง ุงุฌุงุฏ ุดุฏู

ุงุณฺฉุฑูพุช ุงู ูุงูโูุง ุฑุง ูโุณุงุฒุฏ:

1. `.env` - ูุงู ุงุตู ูพุฑูฺู
2. `nest/.env` - ุชูุธูุงุช Backend (Nest.js)
3. `next/.env.local` - ุชูุธูุงุช Frontend (Next.js)
4. `next/.env.production` - ููุท ุฏุฑ ุญุงูุช ุณุฑูุฑ

---

## ๐ ูุฑุงุญู ุจุนุฏ

### ุจุนุฏ ุงุฒ ุงุฌุฑุง ุญุงูุช ููฺฉุงู:
```bash
# ุงุฌุฑุง Next.js
cd next
npm install
npm run dev

# ุงุฌุฑุง Nest.js (ุฏุฑ ุชุฑููุงู ุฌุฏุฏ)
cd nest
npm install
npm run start:dev

# ุงุฌุฑุง Python API (ุฏุฑ ุชุฑููุงู ุฌุฏุฏ)
cd trainer
pip install -r requirements.txt
python app.py
```

### ุจุนุฏ ุงุฒ ุงุฌุฑุง ุญุงูุช ุณุฑูุฑ:
```bash
bash deploy-auto.sh
```

---

## โ๏ธ ูฺฉุงุช ููู

1. **ุงููุช**: ูุงูโูุง `.env` ุญุงู ุงุทูุงุนุงุช ุญุณุงุณ ูุณุชูุฏ ู ูุจุงุฏ commit ุดููุฏ
2. **Git**: ุงู ูุงูโูุง ุฏุฑ `.gitignore` ูุฑุงุฑ ุฏุงุฑูุฏ
3. **ุชุบุฑ ุญุงูุช**: ุจุฑุง ุชุบุฑ ุงุฒ ููฺฉุงู ุจู ุณุฑูุฑ ุง ุจุงูุนฺฉุณุ ุฏูุจุงุฑู ุงุณฺฉุฑูพุช ุฑุง ุจุง ูพุงุฑุงูุชุฑ ููุงุณุจ ุงุฌุฑุง ฺฉูุฏ
4. **ุฏุชุงุจุณ ููฺฉุงู**: ูุจู ุงุฒ ุงุฌุฑุง ุญุงูุช ููฺฉุงูุ ูุทูุฆู ุดูุฏ MySQL ุฑู ุณุณุชู ุดูุง ูุตุจ ุงุณุช ู ุฏุชุงุจุณ `school` ุจุง ฺฉุงุฑุจุฑ `crm_user` ุณุงุฎุชู ุดุฏู ุงุณุช

---

## ๐ ุจุฑุฑุณ ูุงูโูุง ุงุฌุงุฏ ุดุฏู

ุจุนุฏ ุงุฒ ุงุฌุฑุง ุงุณฺฉุฑูพุชุ ูโุชูุงูุฏ ูุงูโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

```bash
# ูุดุงูุฏู ูุงู ุงุตู
cat .env

# ูุดุงูุฏู ุชูุธูุงุช Nest.js
cat nest/.env

# ูุดุงูุฏู ุชูุธูุงุช Next.js
cat next/.env.local
```

---

## ๐ ุนุจโุงุจ

ุงฺฏุฑ ุจุง ูุดฺฉู ููุงุฌู ุดุฏุฏ:

1. ูุทูุฆู ุดูุฏ ฺฉู ูพูุดูโูุง `nest` ู `next` ูุฌูุฏ ุฏุงุฑูุฏ
2. ุฏุฑ ุญุงูุช ููฺฉุงูุ MySQL ุจุงุฏ ุฑู ูพูุฑุช 3306 ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ
3. ุฏุฑ ุญุงูุช ุณุฑูุฑุ Docker ุจุงุฏ ูุตุจ ู ุงุฌุฑุง ุจุงุดุฏ
4. ุงฺฏุฑ ูุงูโูุง ุงุฌุงุฏ ูุดุฏูุฏุ ุฏุณุชุฑุณโูุง ููุดุชู ุฑุง ุจุฑุฑุณ ฺฉูุฏ

---

## ๐ ฺฉูฺฉ ุจุดุชุฑ

ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุฏูพููุ ุจู ุงู ูุงูโูุง ูุฑุงุฌุนู ฺฉูุฏ:
- `DEPLOY-GUIDE.md`
- `QUICK-START.md`
- `README.md`
