# ๐ ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ูุญุท ููฺฉุงู

ุงู ุฑุงูููุง ุจุฑุง ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู ุฏุฑ ูุญุท ููฺฉุงู (development) ุทุฑุงุญ ุดุฏู ุงุณุช.

## ๐ ูพุดโูุงุฒูุง

1. **Node.js** (ูุณุฎู 18 ุง ุจุงูุงุชุฑ)
2. **MySQL Server** (ูุณุฎู 8.0 ุง ุจุงูุงุชุฑ)
3. **npm** ุง **yarn**

## ๐ง ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

### 1. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
npm install
```

### 2. ุชูุธู ุฏุชุงุจุณ
ูุทูุฆู ุดูุฏ MySQL ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช ู ุฏุชุงุจุณ `crm_system` ุงุฌุงุฏ ุดุฏู ุจุงุดุฏ:

```sql
CREATE DATABASE crm_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'crm_user'@'localhost' IDENTIFIED BY '1234';
GRANT ALL PRIVILEGES ON crm_system.* TO 'crm_user'@'localhost';
FLUSH PRIVILEGES;
```

### 3. ุชูุธู ูุชุบุฑูุง ูุญุท
ูุงู `.env.local` ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ุดุฏู ุงุณุช. ุฏุฑ ุตูุฑุช ูุงุฒ ูโุชูุงูุฏ ุขู ุฑุง ูุฑุงุด ฺฉูุฏ:

```bash
# ุจุฑุฑุณ ูุงู .env.local
cat .env.local
```

### 4. ุชุณุช ุงุชุตุงู ุฏุชุงุจุณ
```bash
node test-local-connection.js
```

### 5. ุงุฌุฑุง ูพุฑูฺู
```bash
npm run dev
```

ูพุฑูฺู ุฏุฑ ุขุฏุฑุณ `http://localhost:3000` ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ.

## ๐ ุชูุงูุช ูุญุท ููฺฉุงู ู ุณุฑูุฑ

### ูุญุท ููฺฉุงู (Development)
- ุงุณุชูุงุฏู ุงุฒ ูุงู `.env.local`
- ุงุชุตุงู ุจู `localhost` ุจุฑุง ุฏุชุงุจุณ
- `DOCKER_ENV=false`
- `NODE_ENV=development`

### ูุญุท ุณุฑูุฑ (Production)
- ุงุณุชูุงุฏู ุงุฒ ูุงู `.env`
- ุงุชุตุงู ุจู `mysql` (Docker service)
- `DOCKER_ENV=true`
- `NODE_ENV=production`

## ๐ฏ ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูุญุท

ูพุฑูฺู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุญุท ุงุฌุฑุง ุฑุง ุชุดุฎุต ูโุฏูุฏ:

```typescript
// ุฏุฑ lib/tenant-database.ts
const isDocker = process.env.DOCKER_ENV === 'true' || process.env.NODE_ENV === 'production';
const defaultHost = isDocker ? 'mysql' : 'localhost';
```

## ๐ ุนุจโุงุจ

### ุฎุทุง `ENOTFOUND mysql`
ุงู ุฎุทุง ุฒูุงู ุฑุฎ ูโุฏูุฏ ฺฉู ูพุฑูฺู ุณุน ูโฺฉูุฏ ุจู hostname `mysql` ูุชุตู ุดูุฏ ุฏุฑ ุญุงู ฺฉู ุฏุฑ ูุญุท ููฺฉุงู ุงุฌุฑุง ูโุดูุฏ.

**ุฑุงูโุญู:**
1. ูุทูุฆู ุดูุฏ ูุงู `.env.local` ูุฌูุฏ ุฏุงุฑุฏ
2. ุจุฑุฑุณ ฺฉูุฏ `DATABASE_HOST=localhost` ุฏุฑ `.env.local` ุชูุธู ุดุฏู ุจุงุดุฏ
3. ุงุณฺฉุฑูพุช ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ: `node test-local-connection.js`

### ุฎุทุง ุงุชุตุงู ุฏุชุงุจุณ
1. ูุทูุฆู ุดูุฏ MySQL ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
2. ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุฏุชุงุจุณ `crm_system` ุงุฌุงุฏ ุดุฏู ุจุงุดุฏ
4. ุฏุณุชุฑุณโูุง ฺฉุงุฑุจุฑ ุชูุธู ุดุฏู ุจุงุดุฏ

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง ูุญุท

```
.env          # ุชูุธูุงุช ุณุฑูุฑ (production)
.env.local    # ุชูุธูุงุช ููฺฉุงู (development) - ุฏุฑ git ignore
.env.example  # ููููู ุชูุธูุงุช
```

## ๐ ุงููุช

- ูุงู `.env.local` ุฏุฑ `.gitignore` ูุฑุงุฑ ุฏุงุฑุฏ
- ุฑูุฒูุง ุนุจูุฑ ูุงูุน ุฏุฑ repository ุฐุฎุฑู ููโุดููุฏ
- ูุฑ ูุญุท ุชูุธูุงุช ุฌุฏุงฺฏุงูู ุฏุงุฑุฏ

## ๐ ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:
1. ุงุจุชุฏุง ุงุณฺฉุฑูพุช ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ
2. ูุงฺฏโูุง ุฎุทุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุชูุธูุงุช ุฏุชุงุจุณ ุฑุง ูุฌุฏุฏุงู ุจุฑุฑุณ ฺฉูุฏ