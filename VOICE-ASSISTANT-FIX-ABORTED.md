# ุญู ูุดฺฉู "Aborted" ุฏุฑ ุฏุณุชุงุฑ ุตูุช

## ๐ ูุดฺฉู ูพุฏุง ุดุฏู

ุฎุทุง "aborted" ุจู ุงู ุฏูู ุจูุฏ ฺฉู:
1. โ **API Key ุชูุธู ูุดุฏู**: ุฏุฑ `.env` ููุฏุงุฑ API key ุจุฑุงุจุฑ `.` ุจูุฏ
2. โ **Model ุชูุธู ูุดุฏู**: Model ูู ุจุฑุงุจุฑ `.` ุจูุฏ
3. โ **Timeout**: ุฏุฑุฎูุงุณุชโูุง ุทููุงู ูุทุน ูโุดุฏู

## โ ุฑุงูโุญูโูุง ูพุงุฏู ุดุฏู

### 1. ุงูุฒุงุด Timeout
```typescript
// ุฏุฑ app/api/voice-assistant/ai/route.ts
export const maxDuration = 60; // 60 ุซุงูู
export const dynamic = 'force-dynamic';
```

### 2. ูุญุฏูุฏ ฺฉุฑุฏู ูุณุชูุฑ
- ููุท **10 ฺฏูุชฺฏู ุขุฎุฑ** ุจู AI ุงุฑุณุงู ูโุดู
- ุฌููฺฏุฑ ุงุฒ ุฏุฑุฎูุงุณุชโูุง ุฎู ุจุฒุฑฺฏ

### 3. Fallback Response
- ุงฺฏุฑ API key ูุจุงุดูุ ู ูพุงุณุฎ ุณุงุฏู ุจุฑูโฺฏุฑุฏููู
- ุงุฒ ุฏุงุฏูโูุง ุฏุชุงุจุณ ุงุณุชูุงุฏู ูโฺฉูู

### 4. ฺฉุงูุด max_tokens
- ุงุฒ 500 ุจู 300 ฺฉุงูุด ูพุฏุง ฺฉุฑุฏ
- ูพุงุณุฎโูุง ุณุฑุนโุชุฑ ุชููุฏ ูโุดู

## ๐ง ุจุฑุง ูุนุงู ฺฉุฑุฏู AI ฺฉุงูู

ุจุงุฏ ุฏุฑ `.env` ุงู ููุงุฏุฑ ุฑู ุชูุธู ฺฉู:

```bash
# OpenRouter API Key
RABIN_VOICE_OPENROUTER_API_KEY=sk-or-v1-your-actual-key-here

# Model (ฺฉ ุงุฒ ุงูโูุง ุฑู ุงูุชุฎุงุจ ฺฉู)
RABIN_VOICE_OPENROUTER_MODEL=anthropic/claude-3-haiku        # ุณุฑุน ู ุงุฑุฒุงู
# ุง
RABIN_VOICE_OPENROUTER_MODEL=google/gemini-flash-1.5         # ุฑุงฺฏุงู
# ุง
RABIN_VOICE_OPENROUTER_MODEL=meta-llama/llama-3.2-3b-instruct:free  # ุฑุงฺฏุงู
```

### ุฏุฑุงูุช API Key

1. ุจุฑู ุจู: https://openrouter.ai/
2. ุซุจุชโูุงู ฺฉู
3. ุงุฒ ุจุฎุด Keys ู API key ุจฺฏุฑ
4. ุฏุฑ `.env` ูุฑุงุฑ ุจุฏู

## ๐งช ุชุณุช ุจุฏูู AI

ุญุงูุง ุญุช ุจุฏูู API key ูู ฺฉุงุฑ ูโฺฉูู:

```
ฺฉุงุฑุจุฑ: "ููฺฉุงุฑุงู ุฑู ูุดูู ุจุฏู"
ุฑุงุจู: "ุณูุงู! ูู ุฑุงุจู ูุณุชู. 5 ููฺฉุงุฑ ูุนุงู ุงูุช ุดุฏ. ููููู: ุงุญูุฏุ ุนูุ ุณุงุฑุง."
```

## ๐ ูุงฺฏโูุง ููุฏ

ุฏุฑ console ุณุฑูุฑ:
- `โ OpenRouter API key not configured` - API key ูุณุช
- `โฑ๏ธ OpenRouter request timeout` - timeout ุฑุฎ ุฏุงุฏู
- `โ AI Response generated` - ูพุงุณุฎ ูููู

ุฏุฑ console ูุฑูุฑฺฏุฑ:
- `๐ค Sending to AI: { historyCount: 5 }` - ุงุฑุณุงู ุฏุฑุฎูุงุณุช
- `โ AI Response received` - ุฏุฑุงูุช ูพุงุณุฎ
- `โ API Error: 500` - ุฎุทุง ุณุฑูุฑ

## ๐ฏ ูุถุนุช ูุนู

โ **ฺฉุงุฑ ูโฺฉูู ุจุฏูู AI**: ูพุงุณุฎโูุง ุณุงุฏู ุงุฒ ุฏุชุงุจุณ
โ **Timeout ุญู ุดุฏู**: 60 ุซุงูู ุจุฑุง API
โ **Error handling**: ูพุงูโูุง ุฎุทุง ูุงุถุญ
โ๏ธ **ูุงุฒ ุจู API Key**: ุจุฑุง AI ฺฉุงูู

## ๐ ูุฑุงุญู ุจุนุฏ

1. API key ุงุฒ OpenRouter ุจฺฏุฑ
2. ุฏุฑ `.env` ูุฑุงุฑ ุจุฏู
3. ุณุฑูุฑ ุฑู restart ฺฉู
4. ุชุณุช ฺฉู!
